<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loader & Countdown Combined</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Loader (Page 1) Styles */
    @keyframes float { 0%{transform:translate(0,0)rotate(0deg)scale(1);} 50%{transform:translate(var(--dx,0px),-20px)rotate(var(--rot,0deg))scale(1.1);} 100%{transform:translate(0,0)rotate(0deg)scale(1);} }
    @keyframes bounceHeart { 0%,100%{transform:translateY(0)scale(1);} 50%{transform:translateY(-15px)scale(1.2);} }
    @keyframes pulseScale { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }
    @keyframes wiggleFloat { 0%,100%{transform:rotate(-10deg)translateY(0)scale(1);} 50%{transform:rotate(10deg)translateY(-5px)scale(1.2);} }
    .floating { animation:float var(--dur,4s) ease-in-out infinite alternate; }
    .bounce { animation:bounceHeart 1s infinite; }
    .pulse { animation:pulseScale 2s infinite; }
    .wiggle { animation:wiggleFloatt var(--dur,2s) ease-in-out infinite; cursor:pointer; }
    .icon-fill svg { fill:currentColor; }
    @keyframes vanishOut { to { opacity:0; transform:scale(0.7) translateY(-10px); filter:blur(2px);} }
    .vanish { animation:vanishOut 0.4s ease forwards; }

    /* Countdown (Page 2) Styles */
    @keyframes floatHeart { 0%{transform:translateY(0)translateX(0)rotate(0deg)scale(1);} 50%{transform:translateY(-20px)translateX(var(--random-x,0px))rotate(var(--random-rot,0deg))scale(1.1);} 100%{transform:translateY(0)translateX(0)rotate(0deg)scale(1);} }
    @keyframes pulseScaleMirror {0%{transform:scale(0.95);} 100%{transform:scale(1);} }
    @keyframes fadeUp {0%{transform:translateY(20px);opacity:0;} 100%{transform:translateY(0);opacity:1;} }
    @keyframes dotPulse {0%{transform:scale(1);opacity:0.7;}50%{transform:scale(1.5);opacity:1;}100%{transform:scale(1);opacity:0.7;} }
    @keyframes hoverWiggle {0%{transform:rotate(-1deg);}33%{transform:rotate(1deg);}66%{transform:rotate(-1deg);}100%{transform:rotate(0deg);} }
    .floating-heart {animation:floatHeart var(--duration,4s) ease-in-out infinite alternate; animation-delay:var(--delay,0s);}
    .pulse-mirror {animation:pulseScaleMirror 1.5s ease-in-out infinite alternate;}
    .fade-up {animation:fadeUp 0.5s ease-out both;}
    .hover-wiggle:hover {animation:hoverWiggle 0.4s ease-in-out;transform:scale(1.05);}
    .dot {width:0.75rem;height:0.75rem;border-radius:9999px;background-color:rgb(244 114 182);animation:dotPulse 1s infinite;}
    /*.icon-fill svg remains same*/
  </style>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-b from-rose-100 to-purple-100 overflow-hidden">
  <!-- PAGE 1: Loader -->
  <div id="page1" style="display:block">
    <div id="bg-icons" class="fixed inset-0 overflow-hidden pointer-events-none"></div>
    <div class="relative z-10 bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg shadow-rose-100 p-8 border-4 border-pink-200 flex flex-col items-center max-w-xs mx-auto">
      <div class="flex justify-center space-x-3 mb-5">
        <i data-lucide="heart" class="w-8 h-8 text-pink-400 icon-fill" style="animation:bounceHeart 1s infinite; animation-delay:0s;"></i>
        <i data-lucide="heart" class="w-8 h-8 text-pink-500 icon-fill" style="animation:bounceHeart 1s infinite; animation-delay:.2s;"></i>
        <i data-lucide="heart" class="w-8 h-8 text-purple-400 icon-fill" style="animation:bounceHeart 1s infinite; animation-delay:.4s;"></i>
      </div>
      <p class="text-xl font-bold text-center text-pink-600 mb-3" style="animation:pulseScale 2s infinite;">
        Loading something special...
      </p>
      <div id="emoji-row" class="flex justify-center space-x-4 mt-5 text-xl">
        <span class="wiggle" data-emoji style="--dur:2s; animation-delay:0s;">üéÇ</span>
        <span class="wiggle" data-emoji style="--dur:2s; animation-delay:.2s;">‚ú®</span>
        <span class="wiggle" data-emoji style="--dur:2s; animation-delay:.4s;">üéÅ</span>
        <span class="wiggle" data-emoji style="--dur:2s; animation-delay:.6s;">üíñ</span>
        <span class="wiggle" data-emoji style="--dur:2s; animation-delay:.8s;">üéà</span>
      </div>
    </div>
  </div>

  <!-- PAGE 2: Countdown -->
  <div id="page2" style="display:none">
    <div id="bg-hearts" class="fixed inset-0 overflow-hidden pointer-events-none"></div>
    <div class="relative z-10 bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg shadow-rose-100 p-8 border-4 border-pink-200 max-w-2xl mx-4">
      <div class="flex flex-col items-center justify-center">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-pink-600 min-h-20 sm:min-h-11 mb-6 pulse-mirror">
          Your Special Day is Almost Hereüíï
        </h1>
        <div id="cards" class="flex flex-wrap justify-center gap-4 mb-8">
          <div class="bg-white rounded-3xl shadow-lg p-4 w-28 h-28 flex flex-col items-center justify-center border-2 border-pink-200 fade-up hover-wiggle" style="animation-delay:0s;">
            <div id="days-value" class="text-3xl font-bold text-purple-600">0</div>
            <div class="text-sm text-pink-500 capitalize">days</div>
            <div class="mt-1"><i data-lucide="heart" class="text-pink-500 icon-fill"></i></div>
          </div>
          <div class="bg-white rounded-3xl shadow-lg p-4 w-28 h-28 flex flex-col items-center justify-center border-2 border-pink-200 fade-up hover-wiggle" style="animation-delay:.1s;">
            <div id="hours-value" class="text-3xl font-bold text-purple-600">0</div>
            <div class="text-sm text-pink-500 capitalize">hours</div>
            <div class="mt-1"><i data-lucide="gift" class="text-purple-500"></i></div>
          </div>
          <div class="bg-white rounded-3xl shadow-lg p-4 w-28 h-28 flex flex-col items-center justify-center border-2 border-pink-200 fade-up hover-wiggle" style="animation-delay:.2s;">
            <div id="minutes-value" class="text-3xl font-bold text-purple-600">0</div>
            <div class="text-sm text-pink-500 capitalize">minutes</div>
            <div class="mt-1"><i data-lucide="cake" class="text-pink-500"></i></div>
          </div>
          <div class="bg-white rounded-3xl shadow-lg p-4 w-28 h-28 flex flex-col items-center justify-center border-2 border-pink-200 fade-up hover-wiggle" style="animation-delay:.3s;">
            <div id="seconds-value" class="text-3xl font-bold text-purple-600">5</div>
            <div class="text-sm text-pink-500 capitalize">seconds</div>
            <div class="mt-1"><i data-lucide="star" class="text-yellow-400 icon-fill"></i></div>
          </div>
        </div>
        <div class="text-center max-w-md mx-auto bg-pink-50 p-4 rounded-3xl border-2 border-pink-100 fade-up" style="animation-delay: 0.5s;">
          <p class="text-lg text-purple-700 mb-4">
            Just a little more... A small gift for my favorite person‚ù§Ô∏è
          </p>
          <div class="flex justify-center space-x-2">
            <span class="dot" style="animation-delay: 0s;"></span>
            <span class="dot" style="animation-delay: .3s;"></span>
            <span class="dot" style="animation-delay: .6s;"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Shared and page-specific scripts -->
  <script>
    // --- PAGE 1: Loader floating icons ---
    const rand = (min, max) => Math.random() * (max - min) + min;
    const container = document.getElementById('bg-icons');
    const count = 20;
    for (let i = 0; i < count; i++) {
      const wrapper = document.createElement('span');
      wrapper.className = 'absolute floating';
      wrapper.style.left = rand(0, 100) + '%';
      wrapper.style.top  = rand(0, 100) + '%';
      wrapper.style.setProperty('--dur', (3 + Math.random() * 3) + 's');
      wrapper.style.setProperty('--dx', (Math.random() * 20 - 10) + 'px');
      wrapper.style.setProperty('--rot', (Math.random() * 10 - 5) + 'deg');
      wrapper.style.animationDelay = (Math.random() * 2) + 's';
      const size = 4 + (i % 4);
      const which = (i % 5 === 0) ? 'star' : (i % 5 === 1 ? 'sparkles' : 'heart');
      const icon = document.createElement('i');
      icon.setAttribute('data-lucide', which);
      icon.className = `w-${size} h-${size} opacity-70`;
      if (which === 'star') icon.classList.add('text-yellow-300','fill-yellow-100','icon-fill');
      else if (which === 'sparkles') icon.classList.add('text-purple-300');
      else {
        if (i % 3 === 0) icon.classList.add('text-pink-300');
        else if (i % 3 === 1) icon.classList.add('text-pink-400');
        else icon.classList.add('text-purple-300');
        icon.classList.add(i % 2 === 0 ? 'fill-pink-100' : 'fill-pink-200','icon-fill');
      }
      wrapper.appendChild(icon);
      container.appendChild(wrapper);
    }
    // --- END Loader icons ---

    // Lucide icons for both pages
    lucide.createIcons();

    // --- PAGE 1: Emoji logic to transition to PAGE 2 ---
    const emojiSpans = document.querySelectorAll('#emoji-row [data-emoji]');
    let clickedCount = 0;
    emojiSpans.forEach(span => {
      span.addEventListener('click', function(e) {
        if (span.classList.contains('vanish')) return;
        span.classList.add('vanish');
        span.style.pointerEvents = 'none';
        clickedCount++;
        if (clickedCount === emojiSpans.length) {
          setTimeout(() => {
            // Switch to page 2 instead of navigating away
            document.getElementById('page1').style.display = 'none';
            document.getElementById('page2').style.display = 'block';
            // Init page2 animation/effects after showing
            if (typeof window.page2init === 'function') window.page2init();
          }, 450);
        }
      });
    });

    // --- PAGE 2: Setup for floating hearts & countdown timer ---
    function page2init() {
      // Hearts background
      const heartsContainer = document.getElementById('bg-hearts');
      const heartCount = 20;
      heartsContainer.innerHTML = ''; // Prevent duplicate hearts on re-entry
      for (let i = 0; i < heartCount; i++) {
        const heart = document.createElement('div');
        heart.className = 'absolute floating-heart opacity-70';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.top = Math.random() * 100 + '%';
        heart.style.setProperty('--duration', (3 + Math.random() * 3) + 's');
        heart.style.setProperty('--delay', Math.random() * 2 + 's');
        heart.style.setProperty('--random-x', (Math.random() * 20 - 10) + 'px');
        heart.style.setProperty('--random-rot', (Math.random() * 10 - 5) + 'deg');
        const icon = document.createElement('i');
        icon.setAttribute('data-lucide', 'heart');
        const size = 4 + (i % 4);
        icon.className = `w-${size} h-${size} icon-fill`;
        if (i % 3 === 0) icon.classList.add('text-pink-300','fill-pink-100');
        else if (i % 3 === 1) icon.classList.add('text-pink-400','fill-pink-200');
        else icon.classList.add('text-purple-300','fill-purple-100');
        heart.appendChild(icon);
        heartsContainer.appendChild(heart);
      }
      lucide.createIcons();

      // Countdown logic
      let totalSeconds = 5;
      const daysEl = document.getElementById('days-value');
      const hoursEl = document.getElementById('hours-value');
      const minutesEl = document.getElementById('minutes-value');
      const secondsEl = document.getElementById('seconds-value');
      const cardsEl = document.getElementById('cards');

      function renderDHMS(total) {
        const days = Math.floor(total / 86400);
        const hours = Math.floor((total % 86400) / 3600);
        const minutes = Math.floor((total % 3600) / 60);
        const seconds = total % 60;
        daysEl.textContent = days;
        hoursEl.textContent = hours;
        minutesEl.textContent = minutes;
        secondsEl.textContent = seconds;
      }

      function showSurpriseButton() {
        cardsEl.innerHTML = '<button id="surprise-btn" class="mt-2 bg-pink-500 text-white font-semibold py-3 px-5 rounded-2xl hover:bg-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-300">üéâ Surprise! The wait is over! üéÅ</button>';
        document.getElementById('surprise-btn').addEventListener('click', function() {
          // If you want to load a third section, handle here, else redirect as needed
          // Example of hiding both pages (otherwise redirect or reveal next surprise)
          // document.getElementById('page2').style.display='none';
          // alert('Show your birthday page here!');
          document.getElementById('page2').style.display = 'none';

const bs = document.getElementById('birthday-section');
// reveal block and trigger CSS animation (use .show class to apply overrides above)
bs.style.display = 'block';

// force reflow so CSS animation restarts
void bs.offsetWidth;

// add class to start reveal overrides
bs.classList.add('show');

// start the date typing (small delay to allow CSS reveal)
if (typeof startDateTyping === 'function') {
    startDateTyping(500); // start typing after 0.5s
}

// if you also want the letter box assets to be ready earlier, you can optionally
// call any initialization here (not required if user will click the letter button)

        });
      }

      renderDHMS(totalSeconds);
      const timer = setInterval(() => {
        totalSeconds -= 1;
        if (totalSeconds <= 0) {
          clearInterval(timer);
          renderDHMS(0);
          showSurpriseButton();
        } else {
          renderDHMS(totalSeconds);
        }
      }, 1000);
    }
    // Allow manual init for page2 (also triggers after emoji page switch)
    window.page2init = page2init;

    // --- TRUE PERSISTENT AUDIO ---
    (function(){
      const MUSIC_SRC = "https://raw.githubusercontent.com/jarvisv2/happy/main/music/barbaad.mp3";
      if (!window.persistentAudio) {
        console.log("üéµ Starting music for the first time");
        window.persistentAudio = new Audio(MUSIC_SRC);
        window.persistentAudio.loop = true;
        window.persistentAudio.volume = 0.6;
        window.persistentAudio.preload = "auto";
        let playPromise = window.persistentAudio.play();
        if (playPromise !== undefined) {
          playPromise.catch(function(error) {
            console.log("üîá Autoplay blocked, waiting for user click");
            document.addEventListener('click', function() {
              window.persistentAudio.play();
              console.log("üéµ Music started after user interaction");
            }, { once: true });
          });
        }
      } else {
        console.log("üéµ Music already exists, continuing seamlessly");
        if (window.persistentAudio.paused) {
          window.persistentAudio.play().catch(function(error) {
            console.log("‚ö†Ô∏è Could not resume audio:", error);
          });
        }
      }
    })();
  </script>
  
  <div id="birthday-section" style="display:none">
    <!-- BEGIN Birthday Content -->
    <style>
      /* paste all the CSS from your birthday.html <style> block here */
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | darkshadeoflove">
    <meta name="github" content="https://github.com/jarvisv2">
    <title>Happy Birthday | darkshadeoflove</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Caveat:wght@600&family=Inter:wght@500&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
    #cake-intro{
      position:fixed; inset:0;
      background:radial-gradient(circle at 50% 30%, #fffaf3 0%, #fecdd3 45%, #d1fefc 110%);
      z-index:2147483647; display:grid; place-items:center; overflow:hidden;
    }
    #cake-intro.ci-fade-out{animation:ciFade 700ms ease forwards;}
    @keyframes ciFade{to{opacity:0; visibility:hidden;}}
    .ci-stage{position:relative;width:min(96vw,450px);height:min(96vh,380px);display:grid;place-items:center;}
    .ci-cake{filter:drop-shadow(0 20px 30px #deabf780);}
    .ci-flame{transform-origin:center;animation:ciFlicker .23s infinite alternate;}
    @keyframes ciFlicker{from{transform:scale(.93)translateY(-.7px);}to{transform:scale(1.10)translateY(.7px);}}
    .ci-knife{position:absolute;width:240px;height:26px;top:22px;left:-65px;transform:rotate(-24deg);pointer-events:none;z-index:2;}
    .ci-blade{position:absolute;left:0;top:2px;width:165px;height:9px;background:linear-gradient(90deg,#f1faf8,#e2e4e7 50%,#bbbbbb);border-radius:2px;box-shadow:0 0 8px #e2e4e7;}
    .ci-handle{position:absolute;left:165px;top:0;width:75px;height:13.5px;background:#5a3422;border-radius:4px;box-shadow:0 2px #fff8 0;}
    #cake-intro.ci-cut .ci-knife{animation:ciSlice 1.1s cubic-bezier(.3,.7,.2,1) 1 both;}
    @keyframes ciSlice{
      0%   { transform: translate(0,0) rotate(-24deg);}
      50%  { transform: translate(130px,85px) rotate(-19deg);}
      100% { transform: translate(240px,170px) rotate(-14deg);}
    }
    .ci-half{transition:transform .95s cubic-bezier(.3,.9,.2,1);}
    #cake-intro.ci-cut .ci-left{ transform: translateX(-25px) rotate(-2deg);}
    #cake-intro.ci-cut .ci-right{transform: translateX(25px) rotate(2deg);}
    #cake-intro.ci-cut .ci-spark{ animation:ciSpark .8s ease .15s 1 both;}
    @keyframes ciSpark{0%{opacity:0}14%{opacity:1}87%{opacity:1}100%{opacity:0}}
    .confetti{position:absolute;width:9px;height:16px;top:-26px;left:50%;opacity:0;transform:translateX(-50%);border-radius:2px;animation:confFall linear forwards;}
    #cake-intro.ci-cut .confetti{animation-duration:var(--d,2s); animation-delay:var(--dl,0s);}
    @keyframes confFall{0%{opacity:1;transform:translate3d(var(--x,0),-24px,0)rotate(0);}100%{opacity:1;transform:translate3d(var(--x,0),120vh,0)rotate(540deg);}}
    .cake-quote{
      position:absolute;top:70%;left:50%;transform:translateX(-50%);
      background:rgba(255,182,193,0.97);
      backdrop-filter:blur(12px);
      border:1px solid rgba(255,182,193,0.25);
      padding:14px 22px;
      border-radius:24px;
      font-family:'Inter',sans-serif;
      font-size:18px;
      font-weight:500;
      color:#d0196b;
      opacity:0;
      transition:all 0.85s cubic-bezier(0.25,0.46,0.45,0.94);
      z-index:5;
      text-align:center;
      letter-spacing:1px;
      box-shadow:0 6px 20px 0 rgba(255,182,193,0.13);
    }
    #cake-intro.ci-quote .cake-quote{
      opacity:1;
      transform:translateX(-50%) translateY(-7px);
    }
    .ci-cut-btn{
      position:absolute;top:61%;left:50%;transform:translateX(-50%);
      background:#f08080;color:#fff;font:600 17px/1.1 ui-sans-serif,system-ui;
      border:none;border-radius:999px;padding:12px 28px;box-shadow:0 2px #f0808050;cursor:pointer;z-index:6;
      transition:background .18s;
    }
    .ci-cut-btn:hover {background:#ee649c;}
    .ci-skip{
      position:absolute;bottom:21px;right:23px;
      background:rgba(0,0,0,.56);color:#fff;border:none;border-radius:999px;
      padding:8.5px 15px; font:600 15px/1.1 ui-sans-serif,system-ui;cursor:pointer;
      box-shadow:0 2px #0002;
    }
    .candle-name-letter{
      font-family: 'Dancing Script','Caveat',cursive;
      font-size:27px;
      font-weight:700;
      fill:#d0196b;
      text-anchor:middle;
      dominant-baseline:middle;
      filter:drop-shadow(0 4px 12px #fff6de);
      paint-order:stroke fill;
      stroke:#ffe4e6;
      stroke-width:1;
    }
    </style>
</head>
<body>
<!-- Cake with candles spelling "Supriya" + soft pink quote -->
<div id="cake-intro" aria-hidden="true">
  <div class="ci-stage" role="img" aria-label="Beautiful birthday cake with candles spelling Supriya">
    <svg class="ci-cake" viewBox="0 0 380 280" width="400" height="300" aria-hidden="true">
      <ellipse cx="190" cy="250" rx="140" ry="20" fill="#e5e7eb"/>
      <g class="ci-half ci-left">
        <ellipse cx="120" cy="200" rx="70" ry="30" fill="#d2691e"/>
        <ellipse cx="120" cy="185" rx="70" ry="8" fill="#f4a460"/>
        <ellipse cx="120" cy="175" rx="65" ry="5" fill="#ff69b4"/>
      </g>
      <g class="ci-half ci-right">
        <ellipse cx="260" cy="200" rx="70" ry="30" fill="#d2691e"/>
        <ellipse cx="260" cy="185" rx="70" ry="8" fill="#f4a460"/>
        <ellipse cx="260" cy="175" rx="65" ry="5" fill="#ff69b4"/>
      </g>
      <g class="ci-half ci-left">
        <ellipse cx="120" cy="150" rx="55" ry="25" fill="#dda0dd"/>
        <ellipse cx="120" cy="138" rx="55" ry="6" fill="#ffd1dc"/>
        <ellipse cx="120" cy="132" rx="50" ry="4" fill="#ff1493"/>
      </g>
      <g class="ci-half ci-right">
        <ellipse cx="260" cy="150" rx="55" ry="25" fill="#dda0dd"/>
        <ellipse cx="260" cy="138" rx="55" ry="6" fill="#ffd1dc"/>
        <ellipse cx="260" cy="132" rx="50" ry="4" fill="#ff1493"/>
      </g>
      <ellipse cx="190" cy="110" rx="85" ry="30" fill="#ffb6c1"/>
      <ellipse cx="190" cy="95" rx="85" ry="8" fill="#ffe4e6"/>
      <ellipse cx="190" cy="88" rx="80" ry="5" fill="#ff69b4"/>
      <g>
        <rect x="90" y="56" width="8" height="38" rx="2" fill="#87ceeb"/>
        <ellipse class="ci-flame" cx="94" cy="53" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="94" y="54">S</text>
        <rect x="120" y="52" width="8" height="42" rx="2" fill="#98fb98"/>
        <ellipse class="ci-flame" cx="124" cy="48" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="124" y="49">U</text>
        <rect x="150" y="48" width="8" height="46" rx="2" fill="#ffa07a"/>
        <ellipse class="ci-flame" cx="154" cy="44" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="154" y="45">P</text>
        <rect x="180" y="44" width="8" height="50" rx="2" fill="#dda0dd"/>
        <ellipse class="ci-flame" cx="184" cy="40" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="184" y="41">R</text>
        <rect x="210" y="48" width="8" height="46" rx="2" fill="#f0e68c"/>
        <ellipse class="ci-flame" cx="214" cy="44" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="214" y="45">I</text>
        <rect x="240" y="52" width="8" height="42" rx="2" fill="#00BFFD"/>
        <ellipse class="ci-flame" cx="244" cy="48" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="244" y="49">Y</text>
        <rect x="270" y="56" width="8" height="38" rx="2" fill="#ff69b4"/>
        <ellipse class="ci-flame" cx="274" cy="53" rx="3.5" ry="7" fill="#ffd700"/>
        <text class="candle-name-letter" x="274" y="54">A</text>
      </g>
      <g fill="#ff1493">
        <circle cx="110" cy="195" r="4"/>
        <circle cx="270" cy="195" r="4"/>
        <circle cx="95" cy="145" r="3"/>
        <circle cx="285" cy="145" r="3"/>
      </g>
      <line class="ci-spark" x1="100" y1="70" x2="280" y2="220" stroke="#ffe271" stroke-width="2.5" stroke-linecap="round" opacity="0"/>
      <g fill="#fffacd">
        <circle cx="150" cy="120" r="2"/>
        <circle cx="230" cy="120" r="2"/>
        <circle cx="170" cy="160" r="1.5"/>
        <circle cx="210" cy="160" r="1.5"/>
      </g>
    </svg>
    <div class="ci-knife" aria-hidden="true">
      <span class="ci-blade"></span>
      <span class="ci-handle"></span>
    </div>
    <button class="ci-cut-btn" id="ci-cut-btn">Cut Cake üç∞</button>
    <div class="cake-quote">Wishing you joy &amp; love!</div>
  </div>
  <button id="ci-skip" class="ci-skip" type="button">Skip</button>
</div>

<!-- YOUR ORIGINAL BIRTHDAY PAGE CONTENT -->
<div id="wrapper">
    <div class="flag__birthday">
        <img src="./images/1.png" alt="" width="350" class="flag__left">
        <img src="./images/1.png" alt="" width="350" class="flag__right">
    </div>
    <div class="content">
        <div class="left">
            <div class="title">
                <h1 class="happy">
                    <span style="--t: 4s;">H</span>
                    <span style="--t: 4.2s;">a</span>
                    <span style="--t: 4.4s;">p</span>
                    <span style="--t: 4.6s;">p</span>
                    <span style="--t: 4.8s;">y</span>
                </h1>
                <h1 class="birthday">
                    <span style="--t: 5s;">B</span>
                    <span style="--t: 5.2s;">i</span>
                    <span style="--t: 5.4s;">r</span>
                    <span style="--t: 5.6s;">t</span>
                    <span style="--t: 5.8s;">h</span>
                    <span style="--t: 6s;">d</span>
                    <span style="--t: 6.2s;">a</span>
                    <span style="--t: 6.4s;">y</span>
                </h1>
                <div class="hat">
                    <img src="./images/hat.png" class="hat-img" alt="" width="130">
                </div>
            </div>
            <div class="date__of__birth">
                <span></span>
            </div>
            <div class="btn">
                <button id="btn__letter">
                    Click here Supriya ‚ù§Ô∏è
                    <i class="fa-regular fa-envelope"></i>
                </button>
            </div>
        </div>
        <div class="right">
            <div class="box__account">
                <div class="image">
                    <img src="./images/r5.png" alt="">
                </div>
                <div class="name">
                    <i class="fa-solid fa-heart"></i>
                    <span>‚ù§Ô∏èSupriya‚ù§Ô∏è</span>
                    <i class="fa-solid fa-heart"></i>
                </div>
                <div class="balloon_one">
                    <img width="100px" src="./images/balloon1.png" alt="">
                </div>
                <div class="balloon_two">
                    <img width="100px" src="./images/balloon2.png" alt="">
                </div>
            </div>
            <div class="cricle">
                <div class="text__cricle">
                    <span style="--i: 1;">h</span>
                    <span style="--i: 2;">a</span>
                    <span style="--i: 3;">p</span>
                    <span style="--i: 4;">p</span>
                    <span style="--i: 5;">y</span>
                    <span style="--i: 6;">-</span>
                    <span style="--i: 7;">b</span>
                    <span style="--i: 8;">i</span>
                    <span style="--i: 9;">r</span>
                    <span style="--i: 10;">t</span>
                    <span style="--i: 11;">h</span>
                    <span style="--i: 12;">d</span>
                    <span style="--i: 13;">a</span>
                    <span style="--i: 14;">y</span>
                    <span style="--i: 15;">-</span>
                </div>
                <i class="fa-solid fa-heart"></i>
            </div>
        </div>
    </div>
    <div class="decorate_star star1" style="--t: 15s;"></div>
    <div class="decorate_star star2" style="--t: 15.2s;"></div>
    <div class="decorate_star star3" style="--t: 15.4s;"></div>
    <div class="decorate_star star4" style="--t: 15.6s;"></div>
    <div class="decorate_star star5" style="--t: 15.8s;"></div>
    <div class="decorate_flower--one" style="--t: 15s;">
        <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_flower--two" style="--t: 15.3s;">
        <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_flower--three" style="--t: 15.6s;">
        <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_bottom">
        <img src="./images/decorate.png" alt="" width="100">
    </div>
    <div class="smiley__icon">
        <img src="./images/smiley_icon.png" alt="" width="100">
    </div>

    <div class="box__letter">
        <div class="letter__border">
            <div class="letter">
                <div class="title__letter">
                </div>
                <div class="content__letter">
                    <div class="left">
                        <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
                        <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                        <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                        <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                        <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                    </div>
                    <div class="right">
                        <div class="love__img">
                            <img src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif" alt="" width="220">
                        </div>
                        <div class="text__letter">
                             <p></p>
                        </div>
                        <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                    </div>
                </div>
            </div>
            <div class="close">
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>
    </div>
</div>

<div id="copy">
    <p class="text-center text-white text-sm">Instagram <a
        href="https://www.instagram.com/aoudumber.dev/reels/#">@darkshadeoflove</a></p>
  </div>

<!-- CAKE ANIMATION JAVASCRIPT -->
<script>
(function(){
  const intro = document.getElementById('cake-intro');
  const cutBtn = document.getElementById('ci-cut-btn');
  const quote = intro.querySelector('.cake-quote');
  function burst(n=30){
    const colors=['#fe8dc6','#fbbf24','#a3e635','#60b5fa','#ab8bfa','#f782b6'];
    for(let i=0;i<n;i++){
      const s=document.createElement('span');
      s.className='confetti';
      s.style.background = colors[i % colors.length];
      s.style.setProperty('--x', (Math.random()*260-130)+'px');
      s.style.setProperty('--d', (1.3+Math.random()*0.8).toFixed(2)+'s');
      s.style.setProperty('--dl', (0.05+Math.random()*0.35).toFixed(2)+'s');
      intro.appendChild(s);
      setTimeout(()=>s.remove(), 2100);
    }
  }
  function playCut(){
    cutBtn.style.display="none";
    intro.classList.add('ci-cut');
    burst(30);
    setTimeout(()=>{intro.classList.add('ci-quote');},950);
    setTimeout(hide, 2600);
  }
  function hide(){
    intro.classList.add('ci-fade-out');
    setTimeout(()=>intro.remove(), 800);
  }
  cutBtn.addEventListener('click', playCut);
  document.getElementById('ci-skip').addEventListener('click', hide);
})();
</script>

<!-- YOUR ORIGINAL JAVASCRIPT -->
<script>
    let datetxt = "2 Nov  1999";
    let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.üíï";
    let titleLetter = "To you";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    // Replace the old setTimeout with a function you can call when the birthday section is shown
function startDateTyping(delay=0){
    currentIndex = 0;
    date__of__birth.textContent = "";
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            } else {
                let i = document.createElement("i");
                i.className = "fa-solid fa-star";
                document.querySelector(".date__of__birth").prepend(i);
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true));
                clearInterval(timeDatetxt);
            }
        }, 100);
    }, delay);
}


    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                }
            },50)
        },6000)
    })
    $(".close").on("click", function(){
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        document.querySelector(".love__img").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.remove("animation")
            })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })
     </script>
</div>

